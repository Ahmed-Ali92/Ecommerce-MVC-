@using X.PagedList
@using X.PagedList.Web.Common

@inject IViewLocalizer localizer
@*
<div>
    <ul class="pagination">
    <li class="page-item"><a class="page-link" href="#">Previous</a></li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item"><a class="page-link" href="#">Next</a></li>
  </ul>
</div>*@

<div class="container-fluid">
 <div class="row p-4"> 

 <div class="col-1"></div>
   <div class="col-10 shadow-lg p-3 mb-5 rounded-3 text-bg-dark"  style="color:blue;">
<div class="table-responsive">
 @model IPagedList<ProductDto>
<table class="table table-dark">
    
  <thead>
      <th>@localizer["Name Arabic"]</th>
      <th>@localizer["Name English"]</th>
      <th>@localizer["Brand"]</th>
      <th>@localizer["Description"]</th>
      <th>@localizer["Category"]</th>
      <th>@localizer["Quantity"]</th>
      <th>@localizer["UnitPrice"]</th>
      <th>@localizer["Discount"]</th>
      <th>@localizer["TotalPrice"]<th/>
     @* <th>@localizer["ProductImages"]</th>*@
      <th>@localizer["Update"]</th>
      <th>@localizer["Delete"]</th>
      <th>@localizer["Details"]</th>
      <th>@localizer["Images"]</th>
  
  </thead>
  <tbody>
   @foreach(var itm in Model.ToList<ProductDto>()){
    <tr class="table-active">
      <td>@itm.NameAR</td>
      <td>@itm.NameEN</td>
      <td>@itm.Brand</td>
      <td>@itm.Description</td>
      <td>@itm.CategoryID</td>
      <td>@itm.Quantity</td>
      <td>@itm.UnitPrice</td>
      <td>@itm.Discount</td>
      <td>@itm.TotalPrice</td>
       
      <td>
      @if (itm.productImageList == null || itm.productImageList.Count == 0)
        {
            <td>No Images For This Book</td>
        }
        else
        {
       <td><img style="width:100; height:100;" src="~/Content/Images/Product/@itm.productImageList.FirstOrDefault().Path"/></td> 
        
        }
       </td>

       <td><a class="btn btn-primary" asp-controller="Product" asp-action="Update" asp-route-P="@itm.ID">@localizer["Update"]</a></td>
         <td> <a class="btn btn-danger" asp-controller="Product" asp-action="Delete" asp-route-Prod="@itm.ID">@localizer["Delete"]</a> </td>
     <td> <a class="btn btn-success" asp-controller="Product" asp-action="GetProductByID" asp-route-id="@itm.ID">@localizer["Details"]</a> </td>
       <td> <a class="btn btn-info" asp-controller="Product" asp-action="GetProductImages" asp-route-img="@itm.ID">@localizer["Images Details"]</a> </td>
  
   
   
        
       
 
          
       @* asp-route-NA="@itm.NameAR" asp-route-NE="@itm.NameEN" asp-route-B="@itm.Brand" asp-route-D="@itm.Description"
       asp-route-C="@itm.CategoryID" asp-route-Q="@itm.Quantity" asp-route-U="@itm.UnitPrice" asp-route-DS="@itm.Discount" asp-route-T="@itm.TotalPrice"*@ 
     
    
   </tr>
     }
    
  </tbody>
</table>
</div>
<div class="col-12 m-2">
  @Html.PagedListPager(Model, pageIndex => Url.Action("GetAll", new { pageIndex  }),
    PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(
    new PagedListRenderOptions()
    {
        LiElementClasses = new string[] { "page-item" },
        PageClasses = new string[] { "page-link" },
                   
    MaximumPageNumbersToDisplay=5
    },
     
    new AjaxOptions()
    {
    HttpMethod ="post",
    UpdateTargetId="GetAll"
    }
    ))
    </div> 
</div>
 <div class="col-1"></div>
</div>
</div>
 

    @* @Html.PagedListPager(Model, page => Url.Action("GetAll", new { page }), new PagedListRenderOptions
               {     
                  

                        DisplayLinkToIndividualPages = true,
                        DisplayPageCountAndCurrentLocation = false,
                       
                        LiElementClasses = new string[] { "page-item" },
                   PageClasses = new string[] { "page-link" },
                   
                    })*@

 
 